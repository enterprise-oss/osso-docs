---
id: deployment
title: Deployment
---

Osso is a Ruby application that serves a single page React app for the Admin UI. The [main Github repository](https://github.com/enterprise-oss/osso) is a light Sinatra application written around the Osso gem, which is itself a collection of modular Sinatra applications with shared models, helpers, and migrations to back the models. The client React app provides a robust Admin UI and is written in Typescript, getting most of its functionality from `@enterprise-oss/osso`.

This approach allows developers to clone an instance of Osso from the main Github repository and customize as needed, while integrating critical updates via package updates with little fuss. You can add middlewares, customize the UI theme, and extend the API without worrying about resolving merge conflicts. If you use Ruby in your application's back end, you can alternatively use `osso-rb` within your application, though this approach is less documented.

The main Osso repository includes end-to-end tests via Cypress and CI steps for Buildkite - Osso's [Buildkite pipelines are public](https://buildkite.com/enterpriseoss).

## Heroku

The simplest way to deploy an Osso instance is with Heroku via the button below.

[![Deploy](https://www.herokucdn.com/deploy/button.svg)](https://heroku.com/deploy?template=https://github.com/enterprise-oss/osso)

Heroku will run convenient setup scripts and set required environment variables to get you up and running quickly.

You can otherwise deploy Osso anywhere you can deploy Ruby / Rack apps. We plan to offer a Docker image in the future.

## Environment variables

Some Environment variables are necessary for each Osso deployment. If you Deploy Osso with the Heroku button, some of the these will be set for you, and you'll have the opportunity to set the others as you deploy your instance. Otherwise view your hosting provider's documentation on Environment or Configuration variables.

### BASE_URL
**required**

The base url for your Osso deployment, used to construct ACS URLs. Not required for Heroku deployments that use [Dyno Metadata](https://devcenter.heroku.com/articles/dyno-metadata). Must include protocol.

_Example Value:_ `https://osso.saasapp.com`

### DATABASE_URL
**required**

The URL to your Postgres database. Heroku will generate this for you when using the deploy to Heroku button, or otherwise when adding a Postgres addon.

_Example Value:_ `postgres://user:password@ec2-54-165-36-134.compute-1.amazonaws.com:5432/d5vj7h6o2psidfy0h`

### SESSION_SECRET
**required**

Key used for encrypting Osso sessions for both OAuth and Admin UI. Will be generated by Heroku when using the Heroku deploy button.

_Example Value:_ `9c670917322529f383c1df29e861e2ea21c03d09e30ead661846fa87ebc5b33a`

### JWT_HMAC_SECRET
**required**

Key used for encoding and decoding JWTs for Admin UI. You'll need to set this in your application's ENV as well, as `OSSO_JWT_HMAC_SECRET`. Will be generated by Heroku when using the Heroku deploy button.


_Example Value:_ `27ccd722ef2646ce3ac3406a7547029b89dd5520f5e0263fd07750fe7a5ffc65`

### JWT_URL

A URL where Osso can send a user who is not signed in. This URL should craft a JWT and send the user back to Osso with the JWT as a query parameter. This is optional, and unauthenticated users will see a 401 unauthorized error if the value is not provided.

_Example Value:_ `https://mysassapp.com/auth/osso_jwt_login`


### CYPRESS_INSTALL_BINARY

Osso uses Cypress for e2e tests. This prevents yarn / npm from downloading the Cypress binary in your release environment. Not required but recommended.

_Example Value:_ `0`

## Post Deploy



